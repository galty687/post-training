1:"$Sreact.fragment"
2:I[7921,["716","static/chunks/716-8b6c239d56add41d.js","98","static/chunks/98-71e6ffba5da79e51.js","177","static/chunks/app/layout-438f3f1dcf44f88c.js"],""]
3:I[8295,["716","static/chunks/716-8b6c239d56add41d.js","98","static/chunks/98-71e6ffba5da79e51.js","177","static/chunks/app/layout-438f3f1dcf44f88c.js"],"RootProvider"]
4:I[1409,[],""]
5:I[1813,[],""]
6:I[6053,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"TreeContextProvider"]
b:I[323,[],""]
:HL["/_next/static/media/bb3ef058b751a6ad-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/edef1a271f97a8ec-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/d0f7ca2a7022be00.css","style"]
:HL["/_next/static/css/62a6e77bcc5afb05.css","style"]
:HL["/_next/static/css/4cd23781d18a52d3.css","style"]
0:{"P":null,"b":"PvNFrF_wl3ZBZUvQctrBI","p":"","c":["","docs","lecture-2","sft-hyperparameters"],"i":false,"f":[[["",{"children":["docs",{"children":[["slug","lecture-2/sft-hyperparameters","oc"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/d0f7ca2a7022be00.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/62a6e77bcc5afb05.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","2",{"rel":"stylesheet","href":"/_next/static/css/4cd23781d18a52d3.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"zh-CN","className":"__variable_51740a __variable_3c557b","suppressHydrationWarning":true,"children":[["$","head",null,{"children":[["$","$L2",null,{"src":"https://www.googletagmanager.com/gtag/js?id=G-6PZFJCKFSJ","strategy":"afterInteractive"}],["$","$L2",null,{"id":"google-analytics","strategy":"afterInteractive","children":"\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n            gtag('config', 'G-6PZFJCKFSJ');\n          "}]]}],["$","body",null,{"className":"flex min-h-screen flex-col","children":["$","$L3",null,{"search":{"options":{"type":"static"}},"children":["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]}]]}]]}],{"children":["docs",["$","$1","c",{"children":[null,["$","$L6",null,{"tree":{"$id":"root","name":"课程内容","children":[{"$id":"#0","type":"separator","icon":"$undefined","name":"课程内容"},{"$id":"index.mdx","type":"page","name":"课程总览","description":"大语言模型后训练实践——北京大学软件与微电子学院研究生课程","icon":"$undefined","url":"/docs","$ref":{"file":"index.mdx"}},{"$id":"grading.mdx","type":"page","name":"评分标准","description":"课程考核方式、各项评分细则与评分标准详细说明","icon":"$undefined","url":"/docs/grading","$ref":{"file":"grading.mdx"}},{"$id":"#3","type":"separator","icon":"$undefined","name":"授课"},{"type":"folder","name":"第1课：后训练概述与SFT基础","icon":"$undefined","root":"$undefined","defaultOpen":"$undefined","description":"$undefined","index":"$undefined","children":[{"$id":"lecture-1/index.mdx","type":"page","name":"第1课：后训练概述与监督微调基础","description":"理解后训练在 LLM 开发流程中的位置和核心方法体系，掌握 SFT 训练循环，配置 LoRA/QLoRA 进行参数高效训练","icon":"$undefined","url":"/docs/lecture-1","$ref":{"file":"lecture-1/index.mdx"}},{"$id":"lecture-1/post-training-overview.mdx","type":"page","name":"1.1 后训练的定义与基本流程","description":"理解 LLM 开发的三阶段流程，掌握后训练的核心方法体系，了解 Tülu 3 和 Qwen3 的后训练实践","icon":"$undefined","url":"/docs/lecture-1/post-training-overview","$ref":{"file":"lecture-1/post-training-overview.mdx"}},{"$id":"lecture-1/sft-core-concepts.mdx","type":"page","name":"1.2 监督微调核心概念","description":"掌握 ChatML 和 Llama 聊天模板格式，理解掩码损失（Masked Loss）的原理，了解数据质量的重要性","icon":"$undefined","url":"/docs/lecture-1/sft-core-concepts","$ref":{"file":"lecture-1/sft-core-concepts.mdx"}},{"$id":"lecture-1/parameter-efficient-ft.mdx","type":"page","name":"1.3 参数高效微调","description":"掌握 LoRA 和 QLoRA 的原理与实践，理解参数高效微调的必要性和显存优化策略","icon":"$undefined","url":"/docs/lecture-1/parameter-efficient-ft","$ref":{"file":"lecture-1/parameter-efficient-ft.mdx"}},{"$id":"lecture-1/evaluation-methods.mdx","type":"page","name":"1.4 模型评估方法","description":"了解 LLM 后训练的主流评估方法：LLM-as-Judge、人类偏好排行榜、能力专项基准和安全评估","icon":"$undefined","url":"/docs/lecture-1/evaluation-methods","$ref":{"file":"lecture-1/evaluation-methods.mdx"}},{"$id":"lecture-1/papers.mdx","type":"page","name":"第1课 推荐论文","description":"第1课推荐阅读的 5 篇核心论文：Tülu 3、LoRA、QLoRA、LIMA、MAGPIE","icon":"$undefined","url":"/docs/lecture-1/papers","$ref":{"file":"lecture-1/papers.mdx"}},{"$id":"lecture-1/lab.mdx","type":"page","name":"实验1：微调 Qwen3-1.7B 为指令跟随助手","description":"使用 QLoRA 和 SFTTrainer 将 Qwen3-1.7B 基座模型微调为指令跟随助手的完整实验","icon":"$undefined","url":"/docs/lecture-1/lab","$ref":{"file":"lecture-1/lab.mdx"}}],"$id":"lecture-1","$ref":{"metaFile":"lecture-1/meta.json"}},{"type":"folder","name":"第2课：SFT进阶","icon":"$undefined","root":"$undefined","defaultOpen":"$undefined","description":"$undefined","index":"$undefined","children":[{"$id":"lecture-2/index.mdx","type":"page","name":"第2课：SFT 进阶——数据工程与指令微调深入","description":"掌握指令数据集的构建与质量控制方法，理解数据混合策略，实践 LLM-as-Judge 系统化评估","icon":"$undefined","url":"/docs/lecture-2","$ref":{"file":"lecture-2/index.mdx"}},{"$id":"lecture-2/instruction-datasets.mdx","type":"page","name":"2.1 指令数据集构建方法","description":"从 Self-Instruct 到 MAGPIE 的指令数据集技术演进，数据质量控制方法，数据混合策略","icon":"$undefined","url":"/docs/lecture-2/instruction-datasets","$ref":{"file":"lecture-2/instruction-datasets.mdx"}},{"$id":"lecture-2/sft-hyperparameters.mdx","type":"page","name":"2.2 SFT 超参数实践指南","description":"基于 Pareja 等（2024）的系统实验结果，掌握 SFT 核心超参数的选择方法和常见问题诊断","icon":"$undefined","url":"/docs/lecture-2/sft-hyperparameters","$ref":{"file":"lecture-2/sft-hyperparameters.mdx"}},{"$id":"lecture-2/llm-as-judge.mdx","type":"page","name":"2.3 LLM-as-Judge 评估方法","description":"深入理解 LLM-as-Judge 评估框架，掌握 MT-Bench 评判模板，了解位置偏差和评委模型选择","icon":"$undefined","url":"/docs/lecture-2/llm-as-judge","$ref":{"file":"lecture-2/llm-as-judge.mdx"}},{"$id":"lecture-2/papers.mdx","type":"page","name":"第2课 推荐论文","description":"第2课推荐阅读的 5 篇核心论文：SFT 超参数指南、Self-Instruct、MT-Bench、UltraChat、Deita","icon":"$undefined","url":"/docs/lecture-2/papers","$ref":{"file":"lecture-2/papers.mdx"}},{"$id":"lecture-2/lab.mdx","type":"page","name":"实验2：构建领域定制 SFT 模型并系统评估","description":"从数据分析到模型训练到 LLM-as-Judge 评估的完整指令微调实验，含消融实验","icon":"$undefined","url":"/docs/lecture-2/lab","$ref":{"file":"lecture-2/lab.mdx"}}],"$id":"lecture-2","$ref":{"metaFile":"lecture-2/meta.json"}},{"type":"folder","name":"第3课：偏好对齐DPO","icon":"$undefined","root":"$undefined","defaultOpen":"$undefined","description":"$undefined","index":"$undefined","children":[{"$id":"lecture-3/index.mdx","type":"page","name":"第3课：偏好对齐——DPO 及其变体","description":"理解为什么仅靠 SFT 不足以实现对齐，从 RLHF 目标推导 DPO 损失函数，实现 DPO 训练，并对 DPO 与 SimPO 进行实证比较","icon":"$undefined","url":"/docs/lecture-3","$ref":{"file":"lecture-3/index.mdx"}},{"$id":"lecture-3/alignment-problem.mdx","type":"page","name":"3.1 对齐问题：为什么仅靠 SFT 不够","description":"SFT 教会模型'说什么'，但未教会它'如何选择'。人类偏好本质上是比较性的，偏好优化直接捕获这一信号。","icon":"$undefined","url":"/docs/lecture-3/alignment-problem","$ref":{"file":"lecture-3/alignment-problem.mdx"}},{"$id":"lecture-3/dpo-derivation.mdx","type":"page","name":"3.2 DPO 数学推导","description":"从 RLHF 目标到 DPO 损失函数的完整四步推导，包括闭式最优策略、奖励重参数化和 Bradley-Terry 代入","icon":"$undefined","url":"/docs/lecture-3/dpo-derivation","$ref":{"file":"lecture-3/dpo-derivation.mdx"}},{"$id":"lecture-3/dpo-variants.mdx","type":"page","name":"3.3 DPO 变体","description":"SimPO、KTO、ORPO、IPO 等 DPO 变体的设计理念、数学公式与适用场景比较","icon":"$undefined","url":"/docs/lecture-3/dpo-variants","$ref":{"file":"lecture-3/dpo-variants.mdx"}},{"$id":"lecture-3/practical-considerations.mdx","type":"page","name":"3.4 实践考量","description":"在线 vs 离线 DPO、beta 参数敏感性分析、偏好数据质量、当前领域趋势","icon":"$undefined","url":"/docs/lecture-3/practical-considerations","$ref":{"file":"lecture-3/practical-considerations.mdx"}},{"$id":"lecture-3/papers.mdx","type":"page","name":"第3课推荐论文","description":"DPO、SimPO、KTO、DPO vs PPO 对比实验、DPO 综述等 5 篇核心论文","icon":"$undefined","url":"/docs/lecture-3/papers","$ref":{"file":"lecture-3/papers.mdx"}},{"$id":"lecture-3/lab.mdx","type":"page","name":"第3课实验：DPO 对齐与 SimPO 对比","description":"使用 DPO 对齐 SFT 模型，与 SimPO 进行实证对比，涵盖偏好数据探索、训练、评估的完整流程","icon":"$undefined","url":"/docs/lecture-3/lab","$ref":{"file":"lecture-3/lab.mdx"}}],"$id":"lecture-3","$ref":{"metaFile":"lecture-3/meta.json"}},{"type":"folder","name":"第4课：RLHF与GRPO","icon":"$undefined","root":"$undefined","defaultOpen":"$undefined","description":"$undefined","index":"$undefined","children":[{"$id":"lecture-4/index.mdx","type":"page","name":"第4课：RLHF 原理与推理强化学习（GRPO）","description":"理解完整的 RLHF 流程，掌握 GRPO 算法，使用可验证奖励复现迷你 DeepSeek-R1-Zero 实验，观察推理能力的涌现","icon":"$undefined","url":"/docs/lecture-4","$ref":{"file":"lecture-4/index.mdx"}},{"$id":"lecture-4/rlhf-pipeline.mdx","type":"page","name":"4.1 经典 RLHF 流程","description":"InstructGPT 三阶段流程、奖励模型训练、PPO 核心组件、四模型架构及常见不稳定性","icon":"$undefined","url":"/docs/lecture-4/rlhf-pipeline","$ref":{"file":"lecture-4/rlhf-pipeline.mdx"}},{"$id":"lecture-4/grpo-reasoning.mdx","type":"page","name":"4.2 GRPO 与推理涌现","description":"DeepSeek-R1-Zero 里程碑、GRPO 四步算法详解、RLVR 可验证奖励、DeepSeek-R1 完整流程","icon":"$undefined","url":"/docs/lecture-4/grpo-reasoning","$ref":{"file":"lecture-4/grpo-reasoning.mdx"}},{"$id":"lecture-4/grpo-improvements.mdx","type":"page","name":"4.3 GRPO 改进与测试时计算","description":"DAPO、Dr. GRPO、REINFORCE++ 等改进方法，以及测试时计算扩展的概念和与 o1/o3/R1 的连接","icon":"$undefined","url":"/docs/lecture-4/grpo-improvements","$ref":{"file":"lecture-4/grpo-improvements.mdx"}},{"$id":"lecture-4/rlhf-engineering.mdx","type":"page","name":"4.4 RLHF 工程工具","description":"TRL、OpenRLHF、veRL 等 RLHF/GRPO 训练工具的功能、架构和使用场景对比","icon":"$undefined","url":"/docs/lecture-4/rlhf-engineering","$ref":{"file":"lecture-4/rlhf-engineering.mdx"}},{"$id":"lecture-4/papers.mdx","type":"page","name":"第4课推荐论文","description":"InstructGPT、DeepSeek-R1、DeepSeekMath、Snell et al.、DAPO、Safe RLHF、Qwen3 等 7 篇核心论文","icon":"$undefined","url":"/docs/lecture-4/papers","$ref":{"file":"lecture-4/papers.mdx"}},{"$id":"lecture-4/lab.mdx","type":"page","name":"第4课实验：迷你 DeepSeek-R1-Zero","description":"使用 GRPO 训练 Qwen3-1.7B-Base 进行数学推理，观察推理能力的涌现过程，并与蒸馏模型和 Qwen3 思考模式对比","icon":"$undefined","url":"/docs/lecture-4/lab","$ref":{"file":"lecture-4/lab.mdx"}}],"$id":"lecture-4","$ref":{"metaFile":"lecture-4/meta.json"}},{"type":"folder","name":"第5课：压缩部署与扩展","icon":"$undefined","root":"$undefined","defaultOpen":"$undefined","description":"$undefined","index":"$undefined","children":[{"$id":"lecture-5/index.mdx","type":"page","name":"第5课：模型压缩、部署优化与能力扩展","description":"掌握模型量化的原理与实践（INT8/INT4/GPTQ/AWQ），理解知识蒸馏在后训练中的角色，了解多模态和工具使用等能力扩展方法","icon":"$undefined","url":"/docs/lecture-5","$ref":{"file":"lecture-5/index.mdx"}},{"$id":"lecture-5/quantization.mdx","type":"page","name":"5.1 模型量化","description":"深入理解模型量化的原理、主流 PTQ 方法（INT8/INT4/GPTQ/AWQ）与 QAT，掌握精度-速度-显存的权衡","icon":"$undefined","url":"/docs/lecture-5/quantization","$ref":{"file":"lecture-5/quantization.mdx"}},{"$id":"lecture-5/knowledge-distillation.mdx","type":"page","name":"5.2 知识蒸馏","description":"理解经典知识蒸馏范式、LLM 时代的蒸馏实践（DeepSeek-R1-Distill、Qwen3 思考模式融合），以及蒸馏与 RL 训练的权衡","icon":"$undefined","url":"/docs/lecture-5/knowledge-distillation","$ref":{"file":"lecture-5/knowledge-distillation.mdx"}},{"$id":"lecture-5/capability-extensions.mdx","type":"page","name":"5.3 能力扩展概览","description":"多模态后训练（VLM/LLaVA）、工具使用与智能体（函数调用/MCP）、知识编辑（参数编辑/RAG）三大能力扩展方向","icon":"$undefined","url":"/docs/lecture-5/capability-extensions","$ref":{"file":"lecture-5/capability-extensions.mdx"}},{"$id":"lecture-5/papers.mdx","type":"page","name":"第5课 推荐论文","description":"GPTQ、AWQ、LLaVA、ToolACE、DeepSeek-R1 等 5 篇核心论文，涵盖量化、多模态、工具使用与蒸馏","icon":"$undefined","url":"/docs/lecture-5/papers","$ref":{"file":"lecture-5/papers.mdx"}},{"$id":"lecture-5/lab.mdx","type":"page","name":"第5课 上机实验","description":"量化实验（必做）：多精度加载 Qwen3-8B 并评估压缩影响；能力扩展选做（三选一）：蒸馏分析、多模态实验、工具调用实验","icon":"$undefined","url":"/docs/lecture-5/lab","$ref":{"file":"lecture-5/lab.mdx"}}],"$id":"lecture-5","$ref":{"metaFile":"lecture-5/meta.json"}},{"type":"folder","name":"第6课：项目报告与总结","icon":"$undefined","root":"$undefined","defaultOpen":"$undefined","description":"$undefined","index":"$undefined","children":[{"$id":"lecture-6/index.mdx","type":"page","name":"第6课：课程项目报告与总结","description":"课程项目报告展示、评分标准，以及后训练技术全景回顾与前沿展望","icon":"$undefined","url":"/docs/lecture-6","$ref":{"file":"lecture-6/index.mdx"}},{"$id":"lecture-6/project-directions.mdx","type":"page","name":"推荐项目方向","description":"7 个推荐的课程项目方向，涵盖数学推理、安全对齐、中文写作、代码推理、领域问答、视觉问答、工具调用智能体","icon":"$undefined","url":"/docs/lecture-6/project-directions","$ref":{"file":"lecture-6/project-directions.mdx"}},{"$id":"lecture-6/presentation-guide.mdx","type":"page","name":"演示指南与评分标准","description":"项目演示的时间安排、内容要求、评分细则，以及高质量演示的实用技巧","icon":"$undefined","url":"/docs/lecture-6/presentation-guide","$ref":{"file":"lecture-6/presentation-guide.mdx"}},{"$id":"lecture-6/course-summary.mdx","type":"page","name":"课程总结与展望","description":"后训练技术完整图谱回顾，从 SFT 到 GRPO 的完整路径，以及后训练领域的前沿研究方向","icon":"$undefined","url":"/docs/lecture-6/course-summary","$ref":{"file":"lecture-6/course-summary.mdx"}}],"$id":"lecture-6","$ref":{"metaFile":"lecture-6/meta.json"}},{"$id":"#10","type":"separator","icon":"$undefined","name":"资源"},{"type":"folder","name":"课程资源","icon":"$undefined","root":"$undefined","defaultOpen":"$undefined","description":"$undefined","index":"$undefined","children":[{"$id":"resources/setup-guide.mdx","type":"page","name":"环境配置指南","description":"AutoDL 环境搭建、Colab Pro 替代方案、依赖安装、模型预下载、一键启动脚本与验证步骤","icon":"$undefined","url":"/docs/resources/setup-guide","$ref":{"file":"resources/setup-guide.mdx"}},{"$id":"resources/gpu-cost-guide.mdx","type":"page","name":"GPU 配置与费用估算","description":"各课次 GPU 配置推荐、AutoDL 费用明细、省钱技巧与替代平台","icon":"$undefined","url":"/docs/resources/gpu-cost-guide","$ref":{"file":"resources/gpu-cost-guide.mdx"}},{"$id":"resources/references.mdx","type":"page","name":"完整参考文献","description":"按课次整理的全部推荐论文、教材和在线资源","icon":"$undefined","url":"/docs/resources/references","$ref":{"file":"resources/references.mdx"}}],"$id":"resources","$ref":{"metaFile":"resources/meta.json"}}]},"children":"$L7"}]]}],{"children":[["slug","lecture-2/sft-hyperparameters","oc"],"$L8",{"children":["__PAGE__","$L9",{},null,false]},null,false]},null,false]},null,false],"$La",false]],"m":"$undefined","G":["$b",[]],"s":false,"S":true}
c:I[4564,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"NavProvider"]
d:I[4196,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"Navbar"]
e:I[7326,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"default"]
f:I[140,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"SearchToggle"]
10:I[9896,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"SidebarTrigger"]
11:I[4196,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"LayoutBody"]
12:I[9896,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"Sidebar"]
13:I[9896,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"SidebarContentMobile"]
14:I[9896,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"SidebarHeader"]
15:I[5461,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"ThemeToggle"]
16:I[9896,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"SidebarViewport"]
17:I[9896,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"SidebarItem"]
18:I[9896,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"SidebarPageTree"]
19:I[9896,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"SidebarFooter"]
1a:I[4196,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"CollapsibleControl"]
1b:I[9896,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"SidebarContent"]
1c:I[9896,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"SidebarCollapseTrigger"]
1d:I[140,["285","static/chunks/285-5cab2c46bf0cbdc3.js","698","static/chunks/698-2edc64166f51fb90.js","997","static/chunks/997-8062435351294ce8.js","795","static/chunks/795-2e60776a7ce82cea.js","499","static/chunks/app/docs/layout-8640be9db805fb1e.js"],"LargeSearchToggle"]
1f:I[3652,[],"OutletBoundary"]
21:I[1293,[],"AsyncMetadataOutlet"]
23:I[3652,[],"ViewportBoundary"]
25:I[3652,[],"MetadataBoundary"]
26:"$Sreact.suspense"
7:["$","$Lc",null,{"transparentMode":"$undefined","children":[["$","$Ld",null,{"className":"h-(--fd-nav-height) on-root:[--fd-nav-height:56px] md:on-root:[--fd-nav-height:0px] md:hidden","children":[["$","$Le",null,{"href":"/","className":"inline-flex items-center gap-2.5 font-semibold","children":"LLM 后训练实践"}],["$","div",null,{"className":"flex-1","children":"$undefined"}],["$","$Lf",null,{"className":"p-2","hideIfDisabled":true}],["$","$L10",null,{"className":"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring hover:bg-fd-accent hover:text-fd-accent-foreground [&_svg]:size-4.5 p-2","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide","children":[[["$","rect","afitv7",{"width":"18","height":"18","x":"3","y":"3","rx":"2"}],["$","path","fh3hqa",{"d":"M9 3v18"}]],"$undefined"]}]}]]}],["$","$L11",null,{"className":"md:[&_#nd-page_article]:pt-12 xl:[--fd-toc-width:286px] xl:[&_#nd-page_article]:px-8 md:[--fd-sidebar-width:268px] lg:[--fd-sidebar-width:286px]","children":[["$","$L12",null,{"defaultOpenLevel":"$undefined","prefetch":"$undefined","Mobile":["$","$L13",null,{"children":[["$","$L14",null,{"children":[["$","div",null,{"className":"flex text-fd-muted-foreground items-center gap-1.5","children":[["$","div",null,{"className":"flex flex-1","children":[]}],null,["$","$L15",null,{"className":"p-0","mode":"$undefined"}],["$","$L10",null,{"className":"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring hover:bg-fd-accent hover:text-fd-accent-foreground [&_svg]:size-4.5 p-2","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide","children":[[["$","rect","afitv7",{"width":"18","height":"18","x":"3","y":"3","rx":"2"}],["$","path","fh3hqa",{"d":"M9 3v18"}]],"$undefined"]}]}]]}],false,"$undefined"]}],["$","$L16",null,{"children":[[["$","$L17","0",{"href":"/docs","icon":"$undefined","external":"$undefined","className":"mb-4","children":"课程内容"}]],["$","$L18",null,{"components":"$undefined"}]]}],["$","$L19",null,{"className":"empty:hidden","children":"$undefined"}]]}],"Content":[["$","$L1a",null,{}],["$","$L1b",null,{"children":[["$","$L14",null,{"children":[["$","div",null,{"className":"flex","children":[["$","$Le",null,{"href":"/","className":"inline-flex text-[15px] items-center gap-2.5 font-medium me-auto","children":"LLM 后训练实践"}],"$undefined",["$","$L1c",null,{"className":"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring hover:bg-fd-accent hover:text-fd-accent-foreground p-1.5 [&_svg]:size-4.5 mb-auto text-fd-muted-foreground","children":["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide","children":[[["$","rect","afitv7",{"width":"18","height":"18","x":"3","y":"3","rx":"2"}],["$","path","fh3hqa",{"d":"M9 3v18"}]],"$undefined"]}]}]]}],["$","$L1d",null,{"hideIfDisabled":true}],false,"$undefined"]}],"$7:props:children:1:props:children:0:props:Mobile:props:children:1",["$","$L19",null,{"children":[["$","div",null,{"className":"flex text-fd-muted-foreground items-center empty:hidden","children":[false,[],["$","$L15",null,{"className":"ms-auto p-0","mode":"$undefined"}]]}],"$undefined"]}]]}]]}],false,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}]]}]
8:["$","$1","c",{"children":[null,["$","$L4",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}]
9:["$","$1","c",{"children":["$L1e",null,["$","$L1f",null,{"children":["$L20",["$","$L21",null,{"promise":"$@22"}]]}]]}]
a:["$","$1","h",{"children":[null,[["$","$L23",null,{"children":"$L24"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$L25",null,{"children":["$","div",null,{"hidden":true,"children":["$","$26",null,{"fallback":null,"children":"$L27"}]}]}]]}]
28:I[2853,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"TOCProvider"]
29:I[3448,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"PageTOCPopover"]
2a:I[3448,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"PageTOCPopoverTrigger"]
2b:I[3448,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"PageTOCPopoverContent"]
2c:I[2853,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"TOCScrollArea"]
2d:I[2853,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"TOCItems"]
2e:I[3448,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"PageBreadcrumb"]
1e:["$","$L28",null,{"toc":[{"depth":2,"url":"#概述","title":"概述"},{"depth":2,"url":"#核心超参数","title":"核心超参数"},{"depth":3,"url":"#学习率learning-rate","title":"学习率（Learning Rate）"},{"depth":3,"url":"#批量大小batch-size","title":"批量大小（Batch Size）"},{"depth":3,"url":"#训练轮数epochs","title":"训练轮数（Epochs）"},{"depth":3,"url":"#序列长度sequence-length","title":"序列长度（Sequence Length）"},{"depth":3,"url":"#lora-超参数","title":"LoRA 超参数"},{"depth":2,"url":"#常见问题诊断","title":"常见问题诊断"},{"depth":3,"url":"#问题诊断表","title":"问题诊断表"},{"depth":3,"url":"#损失曲线解读","title":"损失曲线解读"},{"depth":2,"url":"#超参数搜索策略","title":"超参数搜索策略"},{"depth":3,"url":"#推荐的搜索顺序","title":"推荐的搜索顺序"},{"depth":3,"url":"#第一步固定其他参数搜索学习率","title":"第一步：固定其他参数，搜索学习率"},{"depth":3,"url":"#第二步确定训练轮数","title":"第二步：确定训练轮数"},{"depth":3,"url":"#第三步调整-lora-rank","title":"第三步：调整 LoRA rank"},{"depth":3,"url":"#第四步微调批量大小","title":"第四步：微调批量大小"},{"depth":3,"url":"#快速验证技巧","title":"快速验证技巧"},{"depth":2,"url":"#完整超参数配置模板","title":"完整超参数配置模板"},{"depth":2,"url":"#本节小结","title":"本节小结"}],"single":"$undefined","children":["$","div",null,{"id":"nd-page","className":"flex flex-1 w-full mx-auto max-w-(--fd-page-width) pt-(--fd-tocnav-height) pe-(--fd-toc-width)","children":[["$","$L29",null,{"children":[["$","$L2a",null,{}],["$","$L2b",null,{"children":["$undefined",["$","$L2c",null,{"children":["$","$L2d",null,{}]}],"$undefined"]}]]}],["$","article",null,{"children":[["$","$L2e",null,{}],[["$","h1",null,{"ref":"$undefined","children":"2.2 SFT 超参数实践指南","className":"text-[1.75em] font-semibold"}],["$","p",null,{"ref":"$undefined","children":"基于 Pareja 等（2024）的系统实验结果，掌握 SFT 核心超参数的选择方法和常见问题诊断","className":"mb-8 text-lg text-fd-muted-foreground"}],["$","div",null,{"ref":"$undefined","children":[["$","h2",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"概述","children":[["$","a",null,{"data-card":"","href":"#概述","className":"peer","children":"概述"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}],"\n",["$","p",null,{"children":["SFT 的效果高度依赖超参数的选择。本节基于 ",["$","$Le",null,{"href":"https://arxiv.org/abs/2412.13337","children":"Pareja 等（2024）"}]," 的系统性实验结论——该论文在 3B-7B 模型上进行了大量 SFT 超参数消融实验，为小型到中型 LLM 的 SFT 提供了全面的实践指南。"]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"核心超参数","children":[["$","a",null,{"data-card":"","href":"#核心超参数","className":"peer","children":"核心超参数"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}],"\n",["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"学习率learning-rate","children":[["$","a",null,{"data-card":"","href":"#学习率learning-rate","className":"peer","children":"学习率（Learning Rate）"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}],"\n",["$","p",null,{"children":["学习率是 SFT 中",["$","strong",null,{"children":"最敏感"}],"的超参数。"]}],"\n",["$","div",null,{"className":"relative overflow-auto prose-no-margin my-6","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"方法"}],["$","th",null,{"children":"推荐范围"}],["$","th",null,{"children":"说明"}]]}]}],"$L2f"]}]}],"\n","$L30","\n","$L31","\n","$L32","\n","$L33","\n","$L34","\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41","\n","$L42","\n","$L43","\n","$L44","\n","$L45","\n","$L46","\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55","\n","$L56","\n","$L57","\n","$L58","\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c"],"className":"prose flex-1"}]],"$L5d","$L5e"],"className":"flex min-w-0 w-full flex-col gap-4 pt-8 px-4 md:px-6 md:mx-auto"}],"$L5f"]}]}]
63:I[646,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"CodeBlock"]
65:I[646,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"Pre"]
6a:I[5282,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"Tabs"]
6b:I[5282,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"Tab"]
a6:I[3448,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"PageFooter"]
a7:I[3448,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"PageTOC"]
a8:I[3734,["285","static/chunks/285-5cab2c46bf0cbdc3.js","697","static/chunks/697-8c55336afc55c2a1.js","324","static/chunks/324-9e7d7f5bb89b8982.js","870","static/chunks/app/docs/%5B%5B...slug%5D%5D/page-6a2f4c9a93e41015.js"],"I18nLabel"]
2f:["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"全参数 SFT"}],["$","td",null,{"children":["$","strong",null,{"children":"1e-5 ~ 5e-5"}]}],["$","td",null,{"children":"偏小更安全，避免灾难性遗忘"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"LoRA SFT"}],["$","td",null,{"children":["$","strong",null,{"children":"1e-5 ~ 5e-5"}]}],["$","td",null,{"children":"与全参数类似"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"QLoRA SFT"}],["$","td",null,{"children":["$","strong",null,{"children":"1e-4 ~ 3e-4"}]}],["$","td",null,{"children":"通常需要更大的学习率"}]]}]]}]
30:["$","div",null,{"ref":"$undefined","className":"flex gap-2 my-4 rounded-xl border bg-fd-card p-3 ps-1 text-sm text-fd-card-foreground shadow-md","style":{"--callout-color":"var(--color-fd-warning, var(--color-fd-muted))"},"children":[["$","div",null,{"role":"none","className":"w-0.5 bg-(--callout-color)/50 rounded-sm"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-5 -me-0.5 fill-(--callout-color) text-fd-card","children":[[["$","path","wmoenq",{"d":"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}],["$","path","juzpu7",{"d":"M12 9v4"}],["$","path","p32p05",{"d":"M12 17h.01"}]],"$undefined"]}],["$","div",null,{"className":"flex flex-col gap-2 min-w-0 flex-1","children":["$undefined",["$","div",null,{"className":"text-fd-muted-foreground prose-no-margin empty:hidden","children":["$","p",null,{"children":[["$","strong",null,{"children":"关键发现"}],"（Pareja 等）：学习率对最终性能的影响超过其他任何单一超参数。过大的学习率会导致",["$","strong",null,{"children":"灾难性遗忘"}],"（模型忘记预训练知识），过小则会",["$","strong",null,{"children":"欠拟合"}],"。"]}]}]]}]]}]
31:["$","p",null,{"children":[["$","strong",null,{"children":"学习率调度器"}],"推荐使用 ",["$","strong",null,{"children":"cosine"}]," 调度，配合 warmup："]}]
32:["$","span",null,{"className":"katex-display","children":["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","display":"block","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","msub",null,{"children":[["$","mi",null,{"children":"η"}],["$","mi",null,{"children":"t"}]]}],["$","mo",null,{"children":"="}],["$","mrow",null,{"children":[["$","mo",null,{"fence":"true","children":"{"}],["$","mtable",null,{"rowspacing":"0.36em","columnalign":"left left","columnspacing":"1em","children":[["$","mtr",null,{"children":[["$","mtd",null,{"children":["$","mstyle",null,{"scriptlevel":"0","displaystyle":"false","children":["$","mrow",null,{"children":[["$","msub",null,{"children":[["$","mi",null,{"children":"η"}],["$","mi",null,{"children":"max"}],["$","mo",null,{"children":"⁡"}]]}],["$","mo",null,{"children":"⋅"}],["$","mfrac",null,{"children":[["$","mi",null,{"children":"t"}],["$","msub",null,{"children":[["$","mi",null,{"children":"T"}],["$","mtext",null,{"children":"warmup"}]]}]]}]]}]}]}],["$","mtd",null,{"children":["$","mstyle",null,{"scriptlevel":"0","displaystyle":"false","children":["$","mrow",null,{"children":[["$","mtext",null,{"children":"if "}],["$","mi",null,{"children":"t"}],["$","mo",null,{"children":"<"}],["$","msub",null,{"children":[["$","mi",null,{"children":"T"}],["$","mtext",null,{"children":"warmup"}]]}]]}]}]}]]}],["$","mtr",null,{"children":[["$","mtd",null,{"children":["$","mstyle",null,{"scriptlevel":"0","displaystyle":"false","children":["$","mrow",null,{"children":[["$","msub",null,{"children":[["$","mi",null,{"children":"η"}],["$","mi",null,{"children":"min"}],["$","mo",null,{"children":"⁡"}]]}],["$","mo",null,{"children":"+"}],["$","mfrac",null,{"children":[["$","mn",null,{"children":"1"}],["$","mn",null,{"children":"2"}]]}],["$","mo",null,{"stretchy":"false","children":"("}],["$","msub",null,{"children":[["$","mi",null,{"children":"η"}],["$","mi",null,{"children":"max"}],["$","mo",null,{"children":"⁡"}]]}],["$","mo",null,{"children":"−"}],["$","msub",null,{"children":[["$","mi",null,{"children":"η"}],["$","mi",null,{"children":"min"}],["$","mo",null,{"children":"⁡"}]]}],["$","mo",null,{"stretchy":"false","children":")"}],["$","mo",null,{"stretchy":"false","children":"("}],["$","mn",null,{"children":"1"}],["$","mo",null,{"children":"+"}],["$","mi",null,{"children":"cos"}],["$","mo",null,{"children":"⁡"}],["$","mo",null,{"stretchy":"false","children":"("}],["$","mfrac",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"children":"t"}],["$","mo",null,{"children":"−"}],["$","msub",null,{"children":[["$","mi",null,{"children":"T"}],["$","mtext",null,{"children":"warmup"}]]}]]}],["$","mrow",null,{"children":[["$","msub",null,{"children":[["$","mi",null,{"children":"T"}],["$","mtext",null,{"children":"total"}]]}],["$","mo",null,{"children":"−"}],["$","msub",null,{"children":[["$","mi",null,{"children":"T"}],["$","mtext",null,{"children":"warmup"}]]}]]}]]}],["$","mi",null,{"children":"π"}],["$","mo",null,{"stretchy":"false","children":")"}],["$","mo",null,{"stretchy":"false","children":")"}]]}]}]}],["$","mtd",null,{"children":["$","mstyle",null,{"scriptlevel":"0","displaystyle":"false","children":["$","mtext",null,{"children":"otherwise"}]}]}]]}]]}]]}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"\\eta_t = \\begin{cases}\n\\eta_{\\max} \\cdot \\frac{t}{T_{\\text{warmup}}} & \\text{if } t < T_{\\text{warmup}} \\\\\n\\eta_{\\min} + \\frac{1}{2}(\\eta_{\\max} - \\eta_{\\min})(1 + \\cos(\\frac{t - T_{\\text{warmup}}}{T_{\\text{total}} - T_{\\text{warmup}}} \\pi)) & \\text{otherwise}\n\\end{cases}"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":[["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.625em","verticalAlign":"-0.1944em"}}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.03588em"},"children":"η"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.2806em"},"children":["$","span",null,{"style":{"top":"-2.55em","marginLeft":"-0.0359em","marginRight":"0.05em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.7em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mathnormal mtight","children":"t"}]}]]}]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.15em"},"children":["$","span",null,{}]}]}]]}]}]]}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"="}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"3.1006em","verticalAlign":"-1.3003em"}}],["$","span",null,{"className":"minner","children":[["$","span",null,{"className":"mopen delimcenter","style":{"top":"0em"},"children":"$L60"}],"$L61","$L62"]}]]}]]}]]}]}]
33:["$","p",null,{"children":"常见配置："}]
64:T5c0,<svg viewBox="0 0 24 24"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z" fill="currentColor" /></svg>34:["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"$64","children":["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"learning_rate "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" 2e-5"}],["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"           # 基础学习率"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"lr_scheduler_type "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":" \"cosine\""}],["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"   # cosine 调度"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"warmup_ratio "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" 0.1"}],["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"             # warmup 占总步数的 10%"}]]}]]}]}]}]
35:["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"批量大小batch-size","children":[["$","a",null,{"data-card":"","href":"#批量大小batch-size","className":"peer","children":"批量大小（Batch Size）"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
36:["$","p",null,{"children":[["$","strong",null,{"children":"有效批量大小"}]," = ",["$","code",null,{"children":"per_device_batch_size"}]," × ",["$","code",null,{"children":"gradient_accumulation_steps"}]," × ",["$","code",null,{"children":"num_gpus"}]]}]
37:["$","div",null,{"className":"relative overflow-auto prose-no-margin my-6","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"有效批量"}],["$","th",null,{"children":"效果"}],["$","th",null,{"children":"适用场景"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"4-8"}],["$","td",null,{"children":"训练不稳定，梯度噪声大"}],["$","td",null,{"children":"不推荐"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"16-32"}]}],["$","td",null,{"children":"稳定，效果好"}],["$","td",null,{"children":["$","strong",null,{"children":"推荐"}]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"64-128"}],["$","td",null,{"children":"非常稳定，但可能需要调大学习率"}],["$","td",null,{"children":"大规模数据"}]]}]]}]]}]}]
66:T5c0,<svg viewBox="0 0 24 24"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z" fill="currentColor" /></svg>38:["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"$66","children":["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 在单张 GPU 上实现有效批量 32"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"per_device_train_batch_size "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" 4"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"gradient_accumulation_steps "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":" 8"}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 有效批量 = 4 × 8 = 32"}]}]]}]}]}]
39:["$","div",null,{"ref":"$undefined","className":"flex gap-2 my-4 rounded-xl border bg-fd-card p-3 ps-1 text-sm text-fd-card-foreground shadow-md","style":{"--callout-color":"var(--color-fd-info, var(--color-fd-muted))"},"children":[["$","div",null,{"role":"none","className":"w-0.5 bg-(--callout-color)/50 rounded-sm"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-5 -me-0.5 fill-(--callout-color) text-fd-card","children":[[["$","circle","1mglay",{"cx":"12","cy":"12","r":"10"}],["$","path","1dtifu",{"d":"M12 16v-4"}],["$","path","e9boi3",{"d":"M12 8h.01"}]],"$undefined"]}],["$","div",null,{"className":"flex flex-col gap-2 min-w-0 flex-1","children":["$undefined",["$","div",null,{"className":"text-fd-muted-foreground prose-no-margin empty:hidden","children":["$","p",null,{"children":[["$","strong",null,{"children":"实用技巧"}],"：如果 GPU 显存有限，优先使用",["$","strong",null,{"children":"梯度累积"}],"来增大有效批量，而不是缩小批量。较大的有效批量带来更稳定的梯度估计，尤其在 SFT 数据多样性较高时。"]}]}]]}]]}]
3a:["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"训练轮数epochs","children":[["$","a",null,{"data-card":"","href":"#训练轮数epochs","className":"peer","children":"训练轮数（Epochs）"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
3b:["$","div",null,{"className":"relative overflow-auto prose-no-margin my-6","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"数据规模"}],["$","th",null,{"children":"推荐 Epochs"}],["$","th",null,{"children":"说明"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"< 5K 条"}],["$","td",null,{"children":"3-5"}],["$","td",null,{"children":"数据少，需要多看几遍"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"5K-50K 条"}],["$","td",null,{"children":["$","strong",null,{"children":"1-3"}]}],["$","td",null,{"children":"最常见的配置"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"> 50K 条"}],["$","td",null,{"children":"1"}],["$","td",null,{"children":"数据充足，1 个 epoch 通常够"}]]}]]}]]}]}]
3c:["$","p",null,{"children":[["$","strong",null,{"children":"Pareja 等的核心发现"}],"：对于高质量数据，",["$","strong",null,{"children":"1-2 个 epoch 通常是最优的"}],"。超过 3 个 epoch 几乎总会导致过拟合，表现为："]}]
3d:["$","ul",null,{"children":["\n",["$","li",null,{"children":"训练损失继续下降，但验证损失开始上升"}],"\n",["$","li",null,{"children":"模型输出变得重复、风格单一"}],"\n",["$","li",null,{"children":"在新任务上的表现下降"}],"\n"]}]
3e:["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"序列长度sequence-length","children":[["$","a",null,{"data-card":"","href":"#序列长度sequence-length","className":"peer","children":"序列长度（Sequence Length）"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
3f:["$","p",null,{"children":["序列长度直接影响",["$","strong",null,{"children":"显存"}],"和",["$","strong",null,{"children":"训练效率"}],"："]}]
40:["$","span",null,{"className":"katex-display","children":["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","display":"block","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mtext",null,{"children":"显存"}],["$","mo",null,{"children":"∝"}],["$","mtext",null,{"children":"batch_size"}],["$","mo",null,{"children":"×"}],["$","msup",null,{"children":[["$","mtext",null,{"children":"seq_length"}],["$","mn",null,{"children":"2"}]]}],["$","mspace",null,{"width":"1em"}],["$","mo",null,{"stretchy":"false","children":"("}],["$","mtext",null,{"children":"注意力机制"}],["$","mo",null,{"stretchy":"false","children":")"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"\\text{显存} \\propto \\text{batch\\_size} \\times \\text{seq\\_length}^2 \\quad (\\text{注意力机制})"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":[["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6833em"}}],["$","span",null,{"className":"mord text","children":["$","span",null,{"className":"mord cjk_fallback","children":"显存"}]}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"∝"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"1.0044em","verticalAlign":"-0.31em"}}],["$","span",null,{"className":"mord text","children":["$","span",null,{"className":"mord","children":"batch_size"}]}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}],["$","span",null,{"className":"mbin","children":"×"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"1.2084em","verticalAlign":"-0.31em"}}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord text","children":["$","span",null,{"className":"mord","children":"seq_length"}]}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t","children":["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.8984em"},"children":["$","span",null,{"style":{"top":"-3.1473em","marginRight":"0.05em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.7em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":"2"}]}]]}]}]}]}]}]]}],["$","span",null,{"className":"mspace","style":{"marginRight":"1em"}}],["$","span",null,{"className":"mopen","children":"("}],["$","span",null,{"className":"mord text","children":["$","span",null,{"className":"mord cjk_fallback","children":"注意力机制"}]}],["$","span",null,{"className":"mclose","children":")"}]]}]]}]]}]}]
41:["$","div",null,{"className":"relative overflow-auto prose-no-margin my-6","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"序列长度"}],["$","th",null,{"children":"显存影响"}],["$","th",null,{"children":"适用场景"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"512"}],["$","td",null,{"children":"低"}],["$","td",null,{"children":"短指令、单轮问答"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"1024-2048"}]}],["$","td",null,{"children":"中"}],["$","td",null,{"children":"多轮对话、一般任务"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"4096"}],["$","td",null,{"children":"高"}],["$","td",null,{"children":"长文档、复杂推理"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"8192+"}],["$","td",null,{"children":"极高"}],["$","td",null,{"children":"需要 Flash Attention"}]]}]]}]]}]}]
42:["$","p",null,{"children":"选择策略："}]
43:["$","ol",null,{"children":["\n",["$","li",null,{"children":"分析训练数据的 token 长度分布"}],"\n",["$","li",null,{"children":["选择能覆盖 ",["$","strong",null,{"children":"90-95%"}]," 数据的序列长度"]}],"\n",["$","li",null,{"children":"超过序列长度的样本会被截断"}],"\n"]}]
67:T5c0,<svg viewBox="0 0 24 24"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z" fill="currentColor" /></svg>44:["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"$67","children":["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 分析数据长度分布来确定序列长度"}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"import"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" numpy "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"as"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" np"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"lengths "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" ["}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"len"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"(tokenizer.encode(sample["}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"text\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"])) "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"for"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" sample "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"in"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" dataset]"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"p95 "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" np.percentile(lengths, "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"95"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":")"}]]}],"\n","$L68","\n","$L69"]}]}]}]
45:["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"lora-超参数","children":[["$","a",null,{"data-card":"","href":"#lora-超参数","className":"peer","children":"LoRA 超参数"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
46:["$","div",null,{"className":"relative overflow-auto prose-no-margin my-6","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"参数"}],["$","th",null,{"children":"推荐值"}],["$","th",null,{"children":"影响"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"rank (r)"}]}],["$","td",null,{"children":"16-64"}],["$","td",null,{"children":"表达能力。推荐起始值：32"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"alpha (α)"}]}],["$","td",null,{"children":"2 × r"}],["$","td",null,{"children":"缩放因子。alpha/r 控制更新幅度"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"target_modules"}]}],["$","td",null,{"children":"所有线性层"}],["$","td",null,{"children":"覆盖范围越广效果越好"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"dropout"}]}],["$","td",null,{"children":"0.05-0.1"}],["$","td",null,{"children":"防止过拟合。数据少时可调高"}]]}]]}]]}]}]
47:["$","p",null,{"children":[["$","strong",null,{"children":"rank 与 alpha 的关系"}],"："]}]
48:["$","span",null,{"className":"katex-display","children":["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","display":"block","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mtext",null,{"children":"实际更新幅度"}],["$","mo",null,{"children":"="}],["$","mfrac",null,{"children":[["$","mi",null,{"children":"α"}],["$","mi",null,{"children":"r"}]]}],["$","mo",null,{"children":"×"}],["$","mi",null,{"children":"B"}],["$","mi",null,{"children":"A"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"\\text{实际更新幅度} = \\frac{\\alpha}{r} \\times BA"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":[["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6833em"}}],["$","span",null,{"className":"mord text","children":["$","span",null,{"className":"mord cjk_fallback","children":"实际更新幅度"}]}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"="}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"1.7936em","verticalAlign":"-0.686em"}}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mopen nulldelimiter"}],["$","span",null,{"className":"mfrac","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"1.1076em"},"children":[["$","span",null,{"style":{"top":"-2.314em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"mord","children":["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.02778em"},"children":"r"}]}]]}],["$","span",null,{"style":{"top":"-3.23em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"frac-line","style":{"borderBottomWidth":"0.04em"}}]]}],["$","span",null,{"style":{"top":"-3.677em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"mord","children":["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.0037em"},"children":"α"}]}]]}]]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.686em"},"children":["$","span",null,{}]}]}]]}]}],["$","span",null,{"className":"mclose nulldelimiter"}]]}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}],["$","span",null,{"className":"mbin","children":"×"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6833em"}}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.05017em"},"children":"B"}],["$","span",null,{"className":"mord mathnormal","children":"A"}]]}]]}]]}]}]
49:["$","p",null,{"children":["当 ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"children":"α"}],["$","mo",null,{"children":"="}],["$","mn",null,{"children":"2"}],["$","mi",null,{"children":"r"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"\\alpha = 2r"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":[["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.4306em"}}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.0037em"},"children":"α"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"="}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}]]}],["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.6444em"}}],["$","span",null,{"className":"mord","children":"2"}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.02778em"},"children":"r"}]]}]]}]]}]," 时，实际缩放为 2。如果增大 ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":["$","mi",null,{"children":"r"}]}],["$","annotation",null,{"encoding":"application/x-tex","children":"r"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.4306em"}}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.02778em"},"children":"r"}]]}]}]]}]," 但保持 ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":[["$","mi",null,{"children":"α"}],["$","mi",null,{"mathvariant":"normal","children":"/"}],["$","mi",null,{"children":"r"}]]}],["$","annotation",null,{"encoding":"application/x-tex","children":"\\alpha/r"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"1em","verticalAlign":"-0.25em"}}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.0037em"},"children":"α"}],["$","span",null,{"className":"mord","children":"/"}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.02778em"},"children":"r"}]]}]}]]}]," 不变，则需要相应增大 ",["$","span",null,{"className":"katex","children":[["$","span",null,{"className":"katex-mathml","children":["$","math",null,{"xmlns":"http://www.w3.org/1998/Math/MathML","children":["$","semantics",null,{"children":[["$","mrow",null,{"children":["$","mi",null,{"children":"α"}]}],["$","annotation",null,{"encoding":"application/x-tex","children":"\\alpha"}]]}]}]}],["$","span",null,{"className":"katex-html","aria-hidden":"true","children":["$","span",null,{"className":"base","children":[["$","span",null,{"className":"strut","style":{"height":"0.4306em"}}],["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.0037em"},"children":"α"}]]}]}]]}],"。"]}]
6c:T5c0,<svg viewBox="0 0 24 24"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z" fill="currentColor" /></svg>4a:["$","$L6a",null,{"items":["保守配置","标准配置","激进配置"],"children":[["$","$L6b",null,{"value":"保守配置","children":["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"$6c","children":["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 适合：数据少（<5K）、模型小（<3B）、初次尝试"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"LoraConfig("}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    r"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"16"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    lora_alpha"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"32"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    lora_dropout"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"0.1"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    target_modules"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"["}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"q_proj\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"v_proj\""}],"$L6d"]}],"\n","$L6e","\n","$L6f"]}]}]}]}],"$L70","$L71"]}]
4b:["$","hr",null,{}]
4c:["$","h2",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"常见问题诊断","children":[["$","a",null,{"data-card":"","href":"#常见问题诊断","className":"peer","children":"常见问题诊断"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
4d:["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"问题诊断表","children":[["$","a",null,{"data-card":"","href":"#问题诊断表","className":"peer","children":"问题诊断表"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
4e:["$","div",null,{"className":"relative overflow-auto prose-no-margin my-6","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"症状"}],["$","th",null,{"children":"可能原因"}],["$","th",null,{"children":"解决方法"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"训练损失不下降"}]}],["$","td",null,{"children":"学习率太小"}],["$","td",null,{"children":"增大学习率（如 2e-5 → 5e-5）"}]]}],["$","tr",null,{"children":[["$","td",null,{}],["$","td",null,{"children":"数据格式错误"}],["$","td",null,{"children":"检查 chat template 和掩码"}]]}],["$","tr",null,{"children":[["$","td",null,{}],["$","td",null,{"children":"梯度消失"}],["$","td",null,{"children":"检查量化配置、使用 BF16"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"训练损失下降后又上升"}]}],["$","td",null,{"children":"学习率太大"}],["$","td",null,{"children":"减小学习率（如 5e-5 → 1e-5）"}]]}],["$","tr",null,{"children":[["$","td",null,{}],["$","td",null,{"children":"训练轮数过多"}],["$","td",null,{"children":"减少 epochs 或使用 early stopping"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"模型输出大量重复"}]}],["$","td",null,{"children":"过拟合"}],["$","td",null,{"children":"减少 epochs、增大 dropout"}]]}],["$","tr",null,{"children":[["$","td",null,{}],["$","td",null,{"children":"temperature 太低"}],["$","td",null,{"children":"推理时增大 temperature 到 0.7+"}]]}],["$","tr",null,{"children":[["$","td",null,{}],["$","td",null,{"children":"数据多样性不足"}],["$","td",null,{"children":"增加数据来源或样本数"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"模型\"忘记\"预训练知识"}]}],["$","td",null,{"children":"灾难性遗忘"}],["$","td",null,{"children":"减小学习率、减少 epochs"}]]}],["$","tr",null,{"children":[["$","td",null,{}],["$","td",null,{"children":"LoRA rank 太大"}],["$","td",null,{"children":"减小 rank（64 → 32 → 16）"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"验证损失持续上升"}]}],["$","td",null,{"children":"过拟合"}],["$","td",null,{"children":"经典过拟合，减少训练量"}]]}],["$","tr",null,{"children":[["$","td",null,{}],["$","td",null,{"children":"验证集分布不同"}],["$","td",null,{"children":"检查数据划分"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","strong",null,{"children":"回复风格不自然"}]}],["$","td",null,{"children":"数据质量差"}],["$","td",null,{"children":"清洗数据、增加高质量样本"}]]}],["$","tr",null,{"children":[["$","td",null,{}],["$","td",null,{"children":"格式模板错误"}],["$","td",null,{"children":"检查 chat template 是否正确"}]]}]]}]]}]}]
4f:["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"损失曲线解读","children":[["$","a",null,{"data-card":"","href":"#损失曲线解读","className":"peer","children":"损失曲线解读"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
50:["$","$L6a",null,{"items":["健康的训练","过拟合","学习率过大","数据问题"],"children":[["$","$L6b",null,{"value":"健康的训练","children":[["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"<svg viewBox=\"0 0 24 24\"><path d=\"M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z\" fill=\"currentColor\" /></svg>","children":["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"children":"Loss"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"3.0 │╲"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    │ ╲"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"2.0 │  ╲ ──── Train Loss"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    │   ╲"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"1.5 │    ╲── ── Eval Loss"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    │     ╲_________"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"1.0 │      ──────────"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    └──────────────────→ Steps"}]}]]}]}]}],["$","p",null,{"children":"特征：训练损失平滑下降，验证损失跟随下降，两者差距不大。"}]]}],["$","$L6b",null,{"value":"过拟合","children":[["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"<svg viewBox=\"0 0 24 24\"><path d=\"M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z\" fill=\"currentColor\" /></svg>","children":["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"children":"Loss"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"3.0 │╲"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    │ ╲"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"2.0 │  ╲       ╱── Eval Loss（上升！）"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    │   ╲   ╱──"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"1.5 │    ╲╱"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    │     ╲────── Train Loss（继续下降）"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"0.5 │      ──────"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    └──────────────────→ Steps"}]}]]}]}]}],["$","p",null,{"children":"特征：训练损失持续下降，但验证损失在某一点后开始上升。应在验证损失最低点停止。"}]]}],["$","$L6b",null,{"value":"学习率过大","children":[["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"<svg viewBox=\"0 0 24 24\"><path d=\"M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z\" fill=\"currentColor\" /></svg>","children":"$L72"}],"$L73"]}],"$L74"]}]
51:["$","hr",null,{}]
52:["$","h2",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"超参数搜索策略","children":[["$","a",null,{"data-card":"","href":"#超参数搜索策略","className":"peer","children":"超参数搜索策略"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
53:["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"推荐的搜索顺序","children":[["$","a",null,{"data-card":"","href":"#推荐的搜索顺序","className":"peer","children":"推荐的搜索顺序"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
54:["$","div",null,{"className":"fd-steps","children":[["$","div",null,{"className":"fd-step","children":[["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"第一步固定其他参数搜索学习率","children":[["$","a",null,{"data-card":"","href":"#第一步固定其他参数搜索学习率","className":"peer","children":"第一步：固定其他参数，搜索学习率"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}],["$","p",null,{"children":["在 ",0.00005," 中搜索（QLoRA 在 ",0.0003,"）。选择验证损失最低的。"]}]]}],["$","div",null,{"className":"fd-step","children":[["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"第二步确定训练轮数","children":[["$","a",null,{"data-card":"","href":"#第二步确定训练轮数","className":"peer","children":"第二步：确定训练轮数"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}],["$","p",null,{"children":"用最优学习率训练 3 个 epoch，观察验证损失何时开始上升，确定最佳 epoch 数。"}]]}],["$","div",null,{"className":"fd-step","children":[["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"第三步调整-lora-rank","children":[["$","a",null,{"data-card":"","href":"#第三步调整-lora-rank","className":"peer","children":"第三步：调整 LoRA rank"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}],["$","p",null,{"children":["在 ",64," 中尝试，观察性能与效率的权衡。"]}]]}],["$","div",null,{"className":"fd-step","children":[["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"第四步微调批量大小","children":[["$","a",null,{"data-card":"","href":"#第四步微调批量大小","className":"peer","children":"第四步：微调批量大小"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}],["$","p",null,{"children":["在 ",64," 中尝试（通过梯度累积实现）。"]}]]}]]}]
55:["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"快速验证技巧","children":[["$","a",null,{"data-card":"","href":"#快速验证技巧","className":"peer","children":"快速验证技巧"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
75:T5c0,<svg viewBox="0 0 24 24"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z" fill="currentColor" /></svg>56:["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"$75","children":["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 在开始正式训练前，做一个快速的\"烟雾测试\""}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 仅训练 100 步，检查损失是否正常下降"}]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"sft_config "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" SFTConfig("}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    output_dir"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"./smoke_test\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    max_steps"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"100"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":",              "}],["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 仅 100 步"}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    logging_steps"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"10"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    per_device_train_batch_size"}],"$L76","$L77","$L78"]}],"\n","$L79","\n","$L7a","\n","$L7b","\n","$L7c","\n","$L7d","\n","$L7e","\n","$L7f"]}]}]}]
57:["$","hr",null,{}]
58:["$","h2",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"完整超参数配置模板","children":[["$","a",null,{"data-card":"","href":"#完整超参数配置模板","className":"peer","children":"完整超参数配置模板"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
80:T5c0,<svg viewBox="0 0 24 24"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z" fill="currentColor" /></svg>59:["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"$80","children":["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"from"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" trl "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"import"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" SFTConfig"}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"sft_config "}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":" SFTConfig("}]]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    # === 输出 ==="}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    output_dir"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"./sft_output\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line"}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    # === 训练量 ==="}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    num_train_epochs"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"1"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":",                   "}],["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 高质量数据通常 1-2 epoch"}]]}],"\n",["$","span",null,{"className":"line","children":"$L81"}],"\n","$L82","\n","$L83","\n","$L84","\n","$L85","\n","$L86","\n","$L87","\n","$L88","\n","$L89","\n","$L8a","\n","$L8b","\n","$L8c","\n","$L8d","\n","$L8e","\n","$L8f","\n","$L90","\n","$L91","\n","$L92","\n","$L93","\n","$L94","\n","$L95","\n","$L96","\n","$L97","\n","$L98","\n","$L99","\n","$L9a","\n","$L9b","\n","$L9c","\n","$L9d","\n","$L9e","\n","$L9f","\n","$La0","\n","$La1","\n","$La2","\n","$La3","\n","$La4","\n","$La5"]}]}]}]
5a:["$","hr",null,{}]
5b:["$","h2",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"本节小结","children":[["$","a",null,{"data-card":"","href":"#本节小结","className":"peer","children":"本节小结"}],["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-label":"Link to section","children":[[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}]],"$undefined"]}]]}]
5c:["$","div",null,{"className":"relative overflow-auto prose-no-margin my-6","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"超参数"}],["$","th",null,{"children":"推荐值"}],["$","th",null,{"children":"影响"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"学习率"}],["$","td",null,{"children":"2e-5（LoRA） / 2e-4（QLoRA）"}],["$","td",null,{"children":[["$","strong",null,{"children":"最敏感"}],"，过大遗忘，过小欠拟合"]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"有效批量"}],["$","td",null,{"children":"16-32"}],["$","td",null,{"children":"影响训练稳定性"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Epochs"}],["$","td",null,{"children":"1-2"}],["$","td",null,{"children":"过多导致过拟合"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"序列长度"}],["$","td",null,{"children":"覆盖 95% 数据"}],["$","td",null,{"children":"影响显存和效率"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"LoRA rank"}],["$","td",null,{"children":"32"}],["$","td",null,{"children":"表达能力与效率的权衡"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"LoRA alpha"}],["$","td",null,{"children":"2 × rank"}],["$","td",null,{"children":"控制更新幅度"}]]}]]}]]}]}]
5d:["$","div",null,{"className":"flex flex-row flex-wrap items-center justify-between gap-4 empty:hidden","children":["$undefined","$undefined"]}]
5e:["$","$La6",null,{"items":"$undefined"}]
5f:["$","$La7",null,{"children":["$undefined",["$","h3",null,{"className":"inline-flex items-center gap-1.5 text-sm text-fd-muted-foreground","children":[["$","svg",null,{"ref":"$undefined","xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide size-4","children":[[["$","path","olowqp",{"d":"M15 18H3"}],["$","path","16j9eg",{"d":"M17 6H3"}],["$","path","2avoz0",{"d":"M21 12H3"}]],"$undefined"]}],["$","$La8",null,{"label":"toc"}]]}],["$","$L2c",null,{"children":["$","$L2d",null,{}]}],"$undefined"]}]
60:["$","span",null,{"className":"delimsizing size4","children":"{"}]
61:["$","span",null,{"className":"mord","children":["$","span",null,{"className":"mtable","children":[["$","span",null,{"className":"col-align-l","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"1.8003em"},"children":[["$","span",null,{"style":{"top":"-3.8003em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3.008em"}}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.03588em"},"children":"η"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.1514em"},"children":["$","span",null,{"style":{"top":"-2.55em","marginLeft":"-0.0359em","marginRight":"0.05em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.7em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mop mtight","children":[["$","span",null,{"className":"mtight","children":"m"}],["$","span",null,{"className":"mtight","children":"a"}],["$","span",null,{"className":"mtight","children":"x"}]]}]}]}]]}]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.15em"},"children":["$","span",null,{}]}]}]]}]}]]}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}],["$","span",null,{"className":"mbin","children":"⋅"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mopen nulldelimiter"}],["$","span",null,{"className":"mfrac","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.8246em"},"children":[["$","span",null,{"style":{"top":"-2.655em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mord mtight","children":[["$","span",null,{"className":"mord mathnormal mtight","style":{"marginRight":"0.13889em"},"children":"T"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.1645em"},"children":["$","span",null,{"style":{"top":"-2.357em","marginLeft":"-0.1389em","marginRight":"0.0714em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.5em"}}],["$","span",null,{"className":"sizing reset-size3 size1 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mord text mtight","children":["$","span",null,{"className":"mord mtight","children":"warmup"}]}]}]}]]}]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.2819em"},"children":["$","span",null,{}]}]}]]}]}]]}]}]}]]}],["$","span",null,{"style":{"top":"-3.23em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"frac-line","style":{"borderBottomWidth":"0.04em"}}]]}],["$","span",null,{"style":{"top":"-3.394em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mord mathnormal mtight","children":"t"}]}]}]]}]]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.5423em"},"children":["$","span",null,{}]}]}]]}]}],["$","span",null,{"className":"mclose nulldelimiter"}]]}]]}]]}],["$","span",null,{"style":{"top":"-2.25em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3.008em"}}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.03588em"},"children":"η"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.3175em"},"children":["$","span",null,{"style":{"top":"-2.55em","marginLeft":"-0.0359em","marginRight":"0.05em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.7em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":"$La9"}]]}]}],"$Laa"]}],"$Lab"]}]}]]}],"$Lac","$Lad","$Lae","$Laf","$Lb0","$Lb1","$Lb2","$Lb3","$Lb4","$Lb5","$Lb6","$Lb7","$Lb8","$Lb9","$Lba","$Lbb","$Lbc","$Lbd","$Lbe","$Lbf","$Lc0"]}]]}]]}],"$Lc1"]}],"$Lc2"]}]}],"$Lc3","$Lc4"]}]}]
62:["$","span",null,{"className":"mclose nulldelimiter"}]
68:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"print"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"("}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"f"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"95th percentile length: "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"{"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"p95"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":":.0f"}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"}"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":")"}]]}]
69:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 选择 max_seq_length 为 p95 的值，向上取整到 2 的幂次"}]}]
6d:["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"],"}]
6e:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":")"}]}]
6f:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 学习率: 1e-5, epochs: 3"}]}]
c5:T5c0,<svg viewBox="0 0 24 24"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z" fill="currentColor" /></svg>70:["$","$L6b",null,{"value":"标准配置","children":["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"$c5","children":["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 适合：中等数据（5K-50K）、中等模型（3B-8B）"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"LoraConfig("}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    r"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"32"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    lora_alpha"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"64"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    lora_dropout"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"0.05"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    target_modules"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"        \"q_proj\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"k_proj\""}],"$Lc6","$Lc7","$Lc8","$Lc9","$Lca"]}],"\n","$Lcb","\n","$Lcc","\n","$Lcd","\n","$Lce"]}]}]}]}]
cf:T5c0,<svg viewBox="0 0 24 24"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z" fill="currentColor" /></svg>71:["$","$L6b",null,{"value":"激进配置","children":["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"$cf","children":["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 适合：大量数据（>50K）、充足计算资源"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"LoraConfig("}]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    r"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"64"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    lora_alpha"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"128"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    lora_dropout"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"0.0"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    target_modules"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"["}]]}],"\n",["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"        \"q_proj\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"k_proj\""}],"$Ld0","$Ld1","$Ld2","$Ld3","$Ld4"]}],"\n","$Ld5","\n","$Ld6","\n","$Ld7","\n","$Ld8"]}]}]}]}]
72:["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"children":"Loss"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"3.0 │╲ ╱╲ ╱╲"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    │ ╳  ╳  ╲╱╲"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"2.0 │         ╲  ╱╲"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    │          ╳   ╲"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"1.5 │              ───"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    └──────────────────→ Steps"}]}]]}]}]
73:["$","p",null,{"children":"特征：损失剧烈震荡，不稳定。需要减小学习率。"}]
74:["$","$L6b",null,{"value":"数据问题","children":[["$","$L63",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"<svg viewBox=\"0 0 24 24\"><path d=\"M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z\" fill=\"currentColor\" /></svg>","children":["$","$L65",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"children":"Loss"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"3.0 │"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    │────────────────── Loss 几乎不动"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"2.8 │"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    │──────────────────"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"2.6 │"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"    └──────────────────→ Steps"}]}]]}]}]}],["$","p",null,{"children":"特征：损失几乎不下降。通常是数据格式错误——模型在非 assistant token 上也计算损失，或者 chat template 不匹配。"}]]}]
76:["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}]
77:["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"4"}]
78:["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]
79:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    gradient_accumulation_steps"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"4"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
7a:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    learning_rate"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"2e-5"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
7b:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    # ... 其他参数"}]}]
7c:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":")"}]}]
7d:["$","span",null,{"className":"line"}]
7e:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 如果 100 步后损失没有明显下降 → 检查数据格式和配置"}]}]
7f:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 如果损失正常下降 → 继续完整训练"}]}]
81:["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    # max_steps=-1,                       # 也可以按步数控制"}]
82:["$","span",null,{"className":"line"}]
83:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    # === 批量大小 ==="}]}]
84:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    per_device_train_batch_size"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"4"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
85:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    per_device_eval_batch_size"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"4"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
86:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    gradient_accumulation_steps"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"8"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":",         "}],["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 有效批量 = 4 × 8 = 32"}]]}]
87:["$","span",null,{"className":"line"}]
88:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    # === 学习率 ==="}]}]
89:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    learning_rate"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"2e-5"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":",                   "}],["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# LoRA; QLoRA 用 2e-4"}]]}]
8a:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    lr_scheduler_type"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"cosine\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
8b:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    warmup_ratio"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"0.1"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
8c:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    weight_decay"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"0.01"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
8d:["$","span",null,{"className":"line"}]
8e:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    # === 精度与效率 ==="}]}]
8f:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    bf16"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"True"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
90:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    gradient_checkpointing"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"True"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
91:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    gradient_checkpointing_kwargs"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"{"}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"use_reentrant\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":": "}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"False"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"},"}]]}]
92:["$","span",null,{"className":"line"}]
93:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    # === 序列配置 ==="}]}]
94:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    max_seq_length"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"2048"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
95:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    dataset_text_field"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"text\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
96:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    packing"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"False"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":",                        "}],["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# True 可提升吞吐量但需谨慎"}]]}]
97:["$","span",null,{"className":"line"}]
98:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    # === 日志与保存 ==="}]}]
99:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    logging_steps"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"10"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
9a:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    eval_strategy"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"steps\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
9b:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    eval_steps"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"100"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
9c:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    save_strategy"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"steps\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
9d:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    save_steps"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"200"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
9e:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    save_total_limit"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"3"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
9f:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    load_best_model_at_end"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"True"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
a0:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    metric_for_best_model"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"eval_loss\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
a1:["$","span",null,{"className":"line"}]
a2:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"    # === 其他 ==="}]}]
a3:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    report_to"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"wandb\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":",                    "}],["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 或 \"none\""}]]}]
a4:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"},"children":"    seed"}],["$","span",null,{"style":{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},"children":"="}],["$","span",null,{"style":{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},"children":"42"}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]]}]
a5:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":")"}]}]
a9:["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mop mtight","children":[["$","span",null,{"className":"mtight","children":"m"}],["$","span",null,{"className":"mtight","children":"i"}],["$","span",null,{"className":"mtight","children":"n"}]]}]}]
aa:["$","span",null,{"className":"vlist-s","children":"​"}]
ab:["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.15em"},"children":["$","span",null,{}]}]}]
ac:["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}]
ad:["$","span",null,{"className":"mbin","children":"+"}]
ae:["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}]
af:["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mopen nulldelimiter"}],["$","span",null,{"className":"mfrac","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.8451em"},"children":[["$","span",null,{"style":{"top":"-2.655em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mord mtight","children":"2"}]}]}]]}],["$","span",null,{"style":{"top":"-3.23em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"frac-line","style":{"borderBottomWidth":"0.04em"}}]]}],["$","span",null,{"style":{"top":"-3.394em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mord mtight","children":"1"}]}]}]]}]]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.345em"},"children":["$","span",null,{}]}]}]]}]}],["$","span",null,{"className":"mclose nulldelimiter"}]]}]
b0:["$","span",null,{"className":"mopen","children":"("}]
b1:["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.03588em"},"children":"η"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.1514em"},"children":["$","span",null,{"style":{"top":"-2.55em","marginLeft":"-0.0359em","marginRight":"0.05em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.7em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mop mtight","children":[["$","span",null,{"className":"mtight","children":"m"}],["$","span",null,{"className":"mtight","children":"a"}],["$","span",null,{"className":"mtight","children":"x"}]]}]}]}]]}]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.15em"},"children":["$","span",null,{}]}]}]]}]}]]}]
b2:["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}]
b3:["$","span",null,{"className":"mbin","children":"−"}]
b4:["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}]
b5:["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.03588em"},"children":"η"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.3175em"},"children":["$","span",null,{"style":{"top":"-2.55em","marginLeft":"-0.0359em","marginRight":"0.05em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.7em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mop mtight","children":[["$","span",null,{"className":"mtight","children":"m"}],["$","span",null,{"className":"mtight","children":"i"}],["$","span",null,{"className":"mtight","children":"n"}]]}]}]}]]}]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.15em"},"children":["$","span",null,{}]}]}]]}]}]]}]
b6:["$","span",null,{"className":"mclose","children":")"}]
b7:["$","span",null,{"className":"mopen","children":"("}]
b8:["$","span",null,{"className":"mord","children":"1"}]
b9:["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}]
ba:["$","span",null,{"className":"mbin","children":"+"}]
bb:["$","span",null,{"className":"mspace","style":{"marginRight":"0.2222em"}}]
bc:["$","span",null,{"className":"mop","children":"cos"}]
bd:["$","span",null,{"className":"mopen","children":"("}]
be:["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mopen nulldelimiter"}],["$","span",null,{"className":"mfrac","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.9857em"},"children":[["$","span",null,{"style":{"top":"-2.655em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":[["$","span",null,{"className":"mord mtight","children":[["$","span",null,{"className":"mord mathnormal mtight","style":{"marginRight":"0.13889em"},"children":"T"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.3448em"},"children":["$","span",null,{"style":{"top":"-2.3488em","marginLeft":"-0.1389em","marginRight":"0.0714em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.5em"}}],["$","span",null,{"className":"sizing reset-size3 size1 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mord text mtight","children":["$","span",null,{"className":"mord mtight","children":"total"}]}]}]}]]}]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.1512em"},"children":["$","span",null,{}]}]}]]}]}]]}],["$","span",null,{"className":"mbin mtight","children":"−"}],["$","span",null,{"className":"mord mtight","children":[["$","span",null,{"className":"mord mathnormal mtight","style":{"marginRight":"0.13889em"},"children":"T"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.1645em"},"children":["$","span",null,{"style":{"top":"-2.357em","marginLeft":"-0.1389em","marginRight":"0.0714em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.5em"}}],["$","span",null,{"className":"sizing reset-size3 size1 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mord text mtight","children":["$","span",null,{"className":"mord mtight","children":"warmup"}]}]}]}]]}]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.2819em"},"children":["$","span",null,{}]}]}]]}]}]]}]]}]}]]}],["$","span",null,{"style":{"top":"-3.23em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"frac-line","style":{"borderBottomWidth":"0.04em"}}]]}],["$","span",null,{"style":{"top":"-3.5073em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":[["$","span",null,{"className":"mord mathnormal mtight","children":"t"}],["$","span",null,{"className":"mbin mtight","children":"−"}],["$","span",null,{"className":"mord mtight","children":[["$","span",null,{"className":"mord mathnormal mtight","style":{"marginRight":"0.13889em"},"children":"T"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.1645em"},"children":["$","span",null,{"style":{"top":"-2.357em","marginLeft":"-0.1389em","marginRight":"0.0714em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.5em"}}],["$","span",null,{"className":"sizing reset-size3 size1 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mord text mtight","children":["$","span",null,{"className":"mord mtight","children":"warmup"}]}]}]}]]}]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.2819em"},"children":["$","span",null,{}]}]}]]}]}]]}]]}]}]]}]]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.5423em"},"children":["$","span",null,{}]}]}]]}]}],["$","span",null,{"className":"mclose nulldelimiter"}]]}]
bf:["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.03588em"},"children":"π"}]
c0:["$","span",null,{"className":"mclose","children":"))"}]
c1:["$","span",null,{"className":"vlist-s","children":"​"}]
c2:["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"1.3003em"},"children":["$","span",null,{}]}]}]
c3:["$","span",null,{"className":"arraycolsep","style":{"width":"1em"}}]
c4:["$","span",null,{"className":"col-align-l","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"1.8003em"},"children":[["$","span",null,{"style":{"top":"-3.8003em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3.008em"}}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord text","children":["$","span",null,{"className":"mord","children":"if "}]}],["$","span",null,{"className":"mord mathnormal","children":"t"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mrel","children":"<"}],["$","span",null,{"className":"mspace","style":{"marginRight":"0.2778em"}}],["$","span",null,{"className":"mord","children":[["$","span",null,{"className":"mord mathnormal","style":{"marginRight":"0.13889em"},"children":"T"}],["$","span",null,{"className":"msupsub","children":["$","span",null,{"className":"vlist-t vlist-t2","children":[["$","span",null,{"className":"vlist-r","children":[["$","span",null,{"className":"vlist","style":{"height":"0.1514em"},"children":["$","span",null,{"style":{"top":"-2.55em","marginLeft":"-0.1389em","marginRight":"0.05em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"2.7em"}}],["$","span",null,{"className":"sizing reset-size6 size3 mtight","children":["$","span",null,{"className":"mord mtight","children":["$","span",null,{"className":"mord text mtight","children":["$","span",null,{"className":"mord mtight","children":"warmup"}]}]}]}]]}]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"0.2861em"},"children":["$","span",null,{}]}]}]]}]}]]}]]}]]}],["$","span",null,{"style":{"top":"-2.25em"},"children":[["$","span",null,{"className":"pstrut","style":{"height":"3.008em"}}],["$","span",null,{"className":"mord","children":["$","span",null,{"className":"mord text","children":["$","span",null,{"className":"mord","children":"otherwise"}]}]}]]}]]}],["$","span",null,{"className":"vlist-s","children":"​"}]]}],["$","span",null,{"className":"vlist-r","children":["$","span",null,{"className":"vlist","style":{"height":"1.3003em"},"children":["$","span",null,{}]}]}]]}]}]
c6:["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}]
c7:["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"v_proj\""}]
c8:["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}]
c9:["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"o_proj\""}]
ca:["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]
cb:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"        \"gate_proj\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"up_proj\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"down_proj\""}]]}]
cc:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    ],"}]}]
cd:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":")"}]}]
ce:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 学习率: 2e-5, epochs: 1-2"}]}]
d0:["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}]
d1:["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"v_proj\""}]
d2:["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}]
d3:["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"o_proj\""}]
d4:["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":","}]
d5:["$","span",null,{"className":"line","children":[["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"        \"gate_proj\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"up_proj\""}],["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":", "}],["$","span",null,{"style":{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},"children":"\"down_proj\""}]]}]
d6:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":"    ],"}]}]
d7:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},"children":")"}]}]
d8:["$","span",null,{"className":"line","children":["$","span",null,{"style":{"--shiki-light":"#6A737D","--shiki-dark":"#6A737D"},"children":"# 学习率: 5e-5, epochs: 1"}]}]
24:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
20:null
22:{"metadata":[["$","title","0",{"children":"2.2 SFT 超参数实践指南 | LLM 后训练课程"}],["$","meta","1",{"name":"description","content":"基于 Pareja 等（2024）的系统实验结果，掌握 SFT 核心超参数的选择方法和常见问题诊断"}]],"error":null,"digest":"$undefined"}
27:"$22:metadata"
